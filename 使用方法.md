# æ¨èæ­é…openwrt&dockeré£Ÿç”¨

# å¦‚æœæ²¡æœ‰åˆé€‚çš„ç¡¬ä»¶è·¯ç”±å™¨ï¼ˆèƒ½æŠŠå°†è¿‘1GBçš„dockeré•œåƒæ–‡ä»¶å­˜è¿›å»ï¼‰ï¼Œä¸€å°x86åŒç½‘å£ä¸»æœº&è™šæ‹Ÿæœºä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©
**è¦æ˜¯æƒ³ç›´æ¥ç”¨x86ä¸»æœºè£…openwrtæˆ‘ä¹Ÿä¸æ‹¦ç€ä½ **

>å¥½å¥¢ä¾ˆå•Šï¼ˆå°å£°ï¼‰

**[è¿™é‡Œ](/QWE.md)æœ‰è™šæ‹Ÿæœºå®‰è£…openwrtçš„æ–¹æ³•**

>[!TIP]
>å½“ç„¶è¿˜æœ‰å…¶ä»–æ¯”å¦‚hyper-vï¼Œpveç­‰æ–¹æ¡ˆï¼Œä¸è¿‡è¿‡ç¨‹éƒ½å¤§å·®ä¸å·®ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†

# Dockeré•œåƒä½¿ç”¨æ–¹æ³•
**ä¸Rsplweå¤§ä½¬çš„é¡¹ç›®ç›¸ä¼¼**

>[!TIP]
>å¦‚openwrtå¸¦æœ‰dockerä½¿ç”¨sshå¯æŒ‰æ•™ç¨‹æ— è„‘é£Ÿç”¨

### 1. ä½¿ç”¨ESurfingDockerPhoneDockeré•œåƒï¼ˆå¼ºçƒˆæ¨èï¼ï¼ï¼ï¼‰
#### æä¾›ä¸‰ç§æ–¹æ³•æ‹‰å–é•œåƒï¼ˆopenwrtä¸»æœºæœ‰ç½‘ç¯å¢ƒ&æ— ç½‘ç¯å¢ƒï¼‰

##### A:ä»<ins>Github</ins>æ‹‰å–é•œåƒï¼ˆé€‚ç”¨äºopenwrtä¸»æœºæœ‰ç½‘ç¯å¢ƒï¼‰

>[!NOTE]
>sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡ **ï¼ˆä¸å¿…å¸¦ä¸Š"<>"ï¼‰**

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always ghcr.io/liu23zhi/esurfingdockerphonedocker:latest
```

>[!TIP]
>å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ï¼Œåˆ™åº”è¯¥æ‰§è¡ŒğŸ‘‡

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always ghcr.io/liu23zhi/esurfingdockerphonedocker:latest
```

##### B:ä»<ins>Docker Hub</ins>æ‹‰å–é•œåƒï¼ˆé€‚ç”¨äºopenwrtä¸»æœºæœ‰ç½‘ç¯å¢ƒï¼‰

>[!NOTE]
>sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡ **ï¼ˆä¸å¿…å¸¦ä¸Š"<>"ï¼‰**

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always xenlia/esurfingdockerphonedocker:latest
```

>[!TIP]
>å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ï¼Œåˆ™åº”è¯¥æ‰§è¡ŒğŸ‘‡

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always xenlia/esurfingdockerphonedocker:latest
```

##### C:ä»<ins>æœ¬åœ°</ins>å¯¼å…¥é•œåƒï¼ˆé€‚ç”¨äºopenwrtä¸»æœºæ— ç½‘ç¯å¢ƒï¼‰

**ï¼ˆ1ï¼‰å‰å¾€[Releases](https://github.com/liu23zhi/ESurfingDialerDocker/releases/latest)å¤„ä¸‹è½½æœ€æ–°é•œåƒæ–‡ä»¶<ins>ESurfingDockerPhone.tar.gz</ins>**

**ï¼ˆ2ï¼‰æŠŠé•œåƒæ–‡ä»¶ä»¥ä»»ä½•æ–¹å¼ä¼ åˆ°openwrtä¸»æœºæ¯”å¦‚/tmpä»€ä¹ˆçš„é‡Œé¢ï¼ˆæ‰¾å¾—ç€å°±è¡Œï¼‰**

**ï¼ˆ3ï¼‰å¯¼å…¥é•œåƒæ–‡ä»¶**

>[!NOTE]
>sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡

```shell
docker load -i ESurfingDockerPhone-Amd64.tar.gz
```

>[!NOTE]
>**docker load -i åé¢è¦å¡«å†™ä½ æ”¾ç½®ESurfingDockerPhone.tar.gzæ–‡ä»¶çš„ä½ç½®**

>>[!NOTE]
>æ³¨æ„ï¼šä¸åŒç‰ˆæœ¬çš„.gzæ–‡ä»¶åå­—ä¸ä¸€æ ·æ ¹æ®æ–‡ä»¶å…·ä½“åå­—è¿›è¡Œç›¸åº”çš„ä¿®æ”¹

>[!TIP]
>ä»¥ä¸‹æ˜¯é•œåƒæ–‡ä»¶å­˜åœ¨/tmpé‡Œæ—¶çš„å¯¼å…¥ç¤ºä¾‹ğŸ‘‡

```shell
docker load -i /tmp/ESurfingDockerPhone-Amd64.tar.gz
```

**ï¼ˆ4ï¼‰åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨**

>[!NOTE]
>sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡ **ï¼ˆä¸å¿…å¸¦ä¸Š"<>"ï¼‰**

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always xenlia/esurfingdockerphonedocker:latest
```

>[!TIP]
>å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ï¼Œåˆ™åº”è¯¥æ‰§è¡ŒğŸ‘‡

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always xenlia/esurfingdockerphonedocker:latest
```

### ~~2. ä½¿ç”¨ESurfingDockerPcé•œåƒ~~ï¼ˆéƒ½è¯´ç‚¸äº†å•¦ï¼‰

#### ä»»æ„ä½¿ç”¨ä»¥ä¸‹3ç§ä¹‹ä¸€æ–¹æ³•æ‹‰å–é•œåƒ

##### A:ä»Githubæ‹‰å–é•œåƒ

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always ghcr.io/liu23zhi/esurfingdockerpc:latest
```

<summary>ä½¿ç”¨ç¤ºä¾‹</summary>
**å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ã€‚åˆ™åº”è¯¥æ‰§è¡Œ(ä¸€å®šè¦æŠŠï¼œï¼å»æ‰)**

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always ghcr.io/liu23zhi/esurfingdockerpc:latest
```

##### B:ä»Docker Hubæ‹‰å–é•œåƒ

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always xenlia/esurfingdockerpc:latest
```
<summary>ä½¿ç”¨ç¤ºä¾‹</summary>
**å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ã€‚åˆ™åº”è¯¥æ‰§è¡Œ(ä¸€å®šè¦æŠŠï¼œï¼å»æ‰)**

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always xenlia/esurfingdockerpc:latest
```

##### C:ï¼ˆ1ï¼‰ä»Github Releaseä¸‹è½½ï¼Œåæœ¬åœ°å¯¼å…¥ï¼ˆè®°ä½å¯¼å…¥æ–‡ä»¶çš„ä½ç½®ï¼‰

[å‰å¾€Release](https://github.com/liu23zhi/ESurfingDialerDocker/releases)ä¸‹è½½ESurfingDockerPc.tar.gz

**ï¼ˆ2ï¼‰ç„¶åæ‰§è¡Œåˆ—ä»£ç å¯¼å…¥é•œåƒæ–‡ä»¶**

```shell
docker load -i ESurfingDockerPc.tar.gz
```
æ³¨æ„ï¼š
docker load -i åé¢è¦å¡«å†™ä½ æ”¾ç½®ESurfingDockerPhone.tar.gzæ–‡ä»¶çš„ä½ç½®
å¦‚ï¼šæ–‡ä»¶æ”¾ç½®åœ¨/tmp

```shell
docker load -i /tmp/ESurfingDockerPhone.tar.gz
```

**ï¼ˆ3ï¼‰ç„¶ååˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨**

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always xenlia/esurfingdockerpc:latest
```
<summary>ä½¿ç”¨ç¤ºä¾‹</summary>
**å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ã€‚åˆ™åº”è¯¥æ‰§è¡Œ(ä¸€å®šè¦æŠŠï¼œï¼å»æ‰)**

```shell
#å¯¼å…¥é•œåƒ
docker load -i ESurfingDockerPc.tar.gz
#åˆ›å»ºå®¹å™¨å¹¶å¯åŠ¨ï¼ˆä¸Šé¢å¯¼å…¥é•œåƒä»£ç å®Œæˆåã€‚å†è¾“å…¥æ­¤ä»£ç ï¼‰
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always xenlia/esurfingdockerpc:latest
```

#### [ç‚¹å‡»æ­¤æŸ¥çœ‹pcè¿è¡Œé”™è¯¯ä»£ç è¯¦è§£](/PC.md)

## ä»¥ä¸Šæ“ä½œå®Œæˆå

**å°†æ ¡å›­ç½‘ç½‘çº¿æ¥å…¥åˆ°openwrtä¸»æœºçš„ç‰©ç†WANå£**

>[!WARNING]
>ç¡®ä¿ä½ çš„WANå£è·å–åˆ°æ­£ç¡®IPåœ°å€å†è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ

**sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡**

```shell
docker logs -f dialer-client
```

>[!NOTE]
>å¦‚æœæ—¥å¿—è¾“å‡ºå¦‚ä¸‹ï¼Œå°±ä»£è¡¨ç½‘ç»œå·²ç»æˆåŠŸè®¤è¯

```shell
INFO [com.rsplwe.esurfing.Client] (Client:82) - The login has been authorized.
```

>[!NOTE]
>è¿™æ—¶å°†å®¿èˆå†…å…¶ä»–éœ€è¦è¿æ¥ç½‘çº¿çš„è®¾å¤‡æ¥å…¥åˆ°openwrtä¸»æœºçš„ç‰©ç†LANå°±å¯ä»¥æ„‰å¿«åœ°ä¸Šç½‘å•¦

>[!WARNING]
>å¦‚æœæ—¥å¿—æç¤º"keep.url"æˆ–"term.url"ä¸ºç©ºï¼Œåˆ™éœ€è¦è¿›è¡Œé‡æ–°è¿æ¥WANå£æˆ–é‡å¯dockerå®¹å™¨ç­‰æ“ä½œ
