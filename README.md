# é€‚ç”¨äºå¹¿ä¸œå¤©ç¿¼æ ¡å›­ç½‘çš„dockerå®¹å™¨è‡ªåŠ¨è®¤è¯æ–¹æ¡ˆ

**æœ¬é¡¹ç›®å¹¶ä¸æä¾›ä»»ä½•åæ£€æµ‹æ‰‹æ®µï¼Œå¦‚æœéœ€è¦ï¼Œè¯·ç§»æ­¥è‡³[æ­¤è§†é¢‘](https://b23.tv/XFgF5hd)**

**ç»è¿‡éªŒè¯ <ins>"ç”µå­ç§‘æŠ€å¤§å­¦ä¸­å±±å­¦é™¢"</ins> å¯ç”¨ï¼ï¼ˆæŒå£°ç¥è´ºğŸ‘ï¼‰**

## æœ¬é¡¹ç›®åŸºäºRsplweå¤§ä½¬çš„é¡¹ç›® â˜[[ä¼ é€é—¨](https://github.com/Rsplwe/ESurfingDialer)] å’Œä¸­å›½ç”µä¿¡å®˜æ–¹å®¢æˆ·ç«¯ï¼ˆå¤©ç¿¼æ ¡å›­ï¼‰æ­å»ºçš„Dockeré•œåƒè‡ªåŠ¨æ„å»º

**Phoneç‰ˆæœ¬å ç”¨æ‰‹æœºè®¤è¯é€šé“è¿›è¡Œç½‘ç»œè®¤è¯**

**~~PCç‰ˆæœ¬å ç”¨ç”µè„‘è®¤è¯é€šé“è¿›è¡Œç½‘ç»œè®¤è¯~~**ï¼ˆPCç‰ˆæœ¬å·²ç»ç‚¸äº†ï¼‰

## Phoneç‰ˆæœ¬å·²ç»å…¼å®¹amd64å’Œarm64æ¶æ„è®¾å¤‡
## éšç¼˜ä¿®å¤PCç‰ˆæœ¬ï¼ˆæœ€è¿‘ä¸å¤§å¯èƒ½ä¼šï¼‰

## æ­¤é¡¹ç›®åˆ©ç”¨äº†Github actionè‡ªåŠ¨æ‹‰å–æºç è¿›è¡Œæ„å»º

å¯ä»¥å°è¯•åœ¨ä½¿ç”¨æœ¬é•œåƒçš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨ **[watchtower](https://github.com/containrrr/watchtower "watchover")** è¿›è¡Œè‡ªåŠ¨æ›´æ–°Dockeré•œåƒï¼Œç¡®ä¿è¯¥é•œåƒä¸ºæœ€æ–°é•œåƒã€‚ 
### ç›®å‰æä¾› ~~ä¸¤ç§~~ ä¸€ç§ Dockeré•œåƒï¼›

~~1. ESurfingDockerPc~~ **ï¼ˆç‚¸äº†ï¼‰**

æ­¤é•œåƒå ç”¨ç”µè„‘è®¤è¯é€šé“è¿›è¡Œç½‘ç»œè®¤è¯

2. ESurfingDockerPhone **ï¼ˆå¼ºçƒˆæ¨èï¼ï¼ï¼ï¼‰**

æ­¤é•œåƒå ç”¨æ‰‹æœºä¸Šç½‘èµ„æ ¼è¿›è¡Œç½‘ç»œè®¤è¯

### æ­¤å¤–è¿˜æä¾›å…dockerç›´æ¥è¿è¡Œç‰ˆæœ¬ï¼ˆæ”¯æŒLinuxå’Œwindowsï¼‰

1. ESurfingDialer.zip **â˜[[ä¼ é€é—¨](https://github.com/liu23zhi/ESurfingDialerDocker/releases/latest)]**
**æ­¤æ–¹æ¡ˆå ç”¨æ‰‹æœºè®¤è¯é€šé“è¿›è¡Œç½‘ç»œè®¤è¯**

~~2. ESurfingOffice.zip **â˜[[ä¼ é€é—¨](https://github.com/liu23zhi/ESurfingDialerDocker/releases/latest)]**
åŸºäºä¸­å›½ç”µä¿¡å®˜æ–¹å®¢æˆ·ç«¯ ç¼–è¯‘è€Œæˆ
**æ­¤æ–¹æ¡ˆå ç”¨ç”µè„‘è®¤è¯é€šé“è¿›è¡Œç½‘ç»œè®¤è¯**~~ **ï¼ˆéƒ½è¯´ç‚¸äº†å’¯ï¼‰**

**é•œåƒä¼šåœ¨ç¼–è¯‘æ—¶åŒæ—¶ä¸Šä¼ åˆ°Githubå’ŒDocker Hub**

> **ä½œè€…çš„è¯ï¼šå› ä¸ºç”µè„‘è®¤è¯é€šé“å’Œæ‰‹æœºè®¤è¯é€šé“å¹¶ä¸å†²çªï¼Œæ‰€ä»¥ç†è®ºä¸Šæ˜¯å¯ä»¥å®ç°ä¸€ä¸ªè´¦å·åŒå€å®½å¸¦é€Ÿç‡çš„** | ğŸ¤£â˜ **ï¼ˆç†è®ºä¸Šï¼‰**

# æ¨èæ­é…openwrt&dockeré£Ÿç”¨

# å¦‚æœæ²¡æœ‰åˆé€‚çš„ç¡¬ä»¶è·¯ç”±å™¨ï¼Œä¸€å°x86åŒç½‘å£ä¸»æœº&è™šæ‹Ÿæœºä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©
**è¦æ˜¯æƒ³ç›´æ¥ç”¨x86ä¸»æœºè£…openwrtæˆ‘ä¹Ÿä¸æ‹¦ç€ä½ **

>å¥½å¥¢ä¾ˆå•Šï¼ˆå°å£°ï¼‰

**[è¿™é‡Œ](/QWE.md)æœ‰è™šæ‹Ÿæœºå®‰è£…openwrtçš„æ–¹æ³•**

# Dockeré•œåƒä½¿ç”¨æ–¹æ³•
**ä¸Rsplweå¤§ä½¬çš„é¡¹ç›®ç›¸ä¼¼**

>[!TIP]
>å¦‚openwrtå¸¦æœ‰dockerä½¿ç”¨sshå¯æŒ‰æ•™ç¨‹æ— è„‘é£Ÿç”¨

### 1. ä½¿ç”¨ESurfingDockerPhoneDockeré•œåƒï¼ˆå¼ºçƒˆæ¨èï¼ï¼ï¼ï¼‰
#### æä¾›ä¸‰ç§æ–¹æ³•æ‹‰å–é•œåƒï¼ˆopenwrtä¸»æœºæœ‰ç½‘ç¯å¢ƒ&æ— ç½‘ç¯å¢ƒï¼‰

##### A:ä»<ins>Github</ins>æ‹‰å–é•œåƒï¼ˆé€‚ç”¨äºopenwrtä¸»æœºæœ‰ç½‘ç¯å¢ƒï¼‰

>[!NOTE]
>sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡ **ï¼ˆä¸å¿…å¸¦ä¸Š"<>"ï¼‰**

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always ghcr.io/liu23zhi/esurfingdockerphonedocker:latest
```

>[!TIP]
>å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ï¼Œåˆ™åº”è¯¥æ‰§è¡ŒğŸ‘‡

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always ghcr.io/liu23zhi/esurfingdockerphonedocker:latest
```

##### B:ä»<ins>Docker Hub</ins>æ‹‰å–é•œåƒï¼ˆé€‚ç”¨äºopenwrtä¸»æœºæœ‰ç½‘ç¯å¢ƒï¼‰

>[!NOTE]
>sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡ **ï¼ˆä¸å¿…å¸¦ä¸Š"<>"ï¼‰**

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always xenlia/esurfingdockerphonedocker:latest
```

>[!TIP]
>å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ï¼Œåˆ™åº”è¯¥æ‰§è¡ŒğŸ‘‡

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always xenlia/esurfingdockerphonedocker:latest
```

##### C:ä»<ins>æœ¬åœ°</ins>å¯¼å…¥é•œåƒï¼ˆé€‚ç”¨äºopenwrtä¸»æœºæ— ç½‘ç¯å¢ƒï¼‰

**ï¼ˆ1ï¼‰å‰å¾€[Releases](https://github.com/liu23zhi/ESurfingDialerDocker/releases/latest)å¤„ä¸‹è½½æœ€æ–°é•œåƒæ–‡ä»¶<ins>ESurfingDockerPhone.tar.gz</ins>**

**ï¼ˆ2ï¼‰æŠŠé•œåƒæ–‡ä»¶ä»¥ä»»ä½•æ–¹å¼ä¼ åˆ°openwrtä¸»æœºæ¯”å¦‚/tmpä»€ä¹ˆçš„é‡Œé¢ï¼ˆæ‰¾å¾—ç€å°±è¡Œï¼‰**

**ï¼ˆ3ï¼‰å¯¼å…¥é•œåƒæ–‡ä»¶**

>[!NOTE]
>sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡

```shell
docker load -i ESurfingDockerPhone.tar.gz
```

>[!NOTE]
>**docker load -i åé¢è¦å¡«å†™ä½ æ”¾ç½®ESurfingDockerPhone.tar.gzæ–‡ä»¶çš„ä½ç½®**

>[!TIP]
>ä»¥ä¸‹æ˜¯é•œåƒæ–‡ä»¶å­˜åœ¨/tmpé‡Œæ—¶çš„å¯¼å…¥ç¤ºä¾‹ğŸ‘‡

```shell
docker load -i /tmp/ESurfingDockerPhone.tar.gz
```

**ï¼ˆ4ï¼‰åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨**

>[!NOTE]
>sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡ **ï¼ˆä¸å¿…å¸¦ä¸Š"<>"ï¼‰**

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always xenlia/esurfingdockerphonedocker:latest
```

>[!TIP]
>å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ï¼Œåˆ™åº”è¯¥æ‰§è¡ŒğŸ‘‡

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always xenlia/esurfingdockerphonedocker:latest
```

### ~~2. ä½¿ç”¨ESurfingDockerPcé•œåƒ~~ï¼ˆç‚¸äº†å•¦ï¼‰

<!--#### ä»»æ„ä½¿ç”¨ä»¥ä¸‹3ç§ä¹‹ä¸€æ–¹æ³•æ‹‰å–é•œåƒ

##### A:ä»Githubæ‹‰å–é•œåƒ

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always ghcr.io/liu23zhi/esurfingdockerpc:latest
```

<summary>ä½¿ç”¨ç¤ºä¾‹</summary>
**å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ã€‚åˆ™åº”è¯¥æ‰§è¡Œ(ä¸€å®šè¦æŠŠï¼œï¼å»æ‰)**

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always ghcr.io/liu23zhi/esurfingdockerpc:latest
```

##### B:ä»Docker Hubæ‹‰å–é•œåƒ

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always xenlia/esurfingdockerpc:latest
```
<summary>ä½¿ç”¨ç¤ºä¾‹</summary>
**å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ã€‚åˆ™åº”è¯¥æ‰§è¡Œ(ä¸€å®šè¦æŠŠï¼œï¼å»æ‰)**

```shell
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always xenlia/esurfingdockerpc:latest
```

##### C:ï¼ˆ1ï¼‰ä»Github Releaseä¸‹è½½ï¼Œåæœ¬åœ°å¯¼å…¥ï¼ˆè®°ä½å¯¼å…¥æ–‡ä»¶çš„ä½ç½®ï¼‰

[å‰å¾€Release](https://github.com/liu23zhi/ESurfingDialerDocker/releases)ä¸‹è½½ESurfingDockerPc.tar.gz

**ï¼ˆ2ï¼‰ç„¶åæ‰§è¡Œåˆ—ä»£ç å¯¼å…¥é•œåƒæ–‡ä»¶**

```shell
docker load -i ESurfingDockerPc.tar.gz
```
æ³¨æ„ï¼š
docker load -i åé¢è¦å¡«å†™ä½ æ”¾ç½®ESurfingDockerPhone.tar.gzæ–‡ä»¶çš„ä½ç½®
å¦‚ï¼šæ–‡ä»¶æ”¾ç½®åœ¨/tmp

```shell
docker load -i /tmp/ESurfingDockerPhone.tar.gz
```

**ï¼ˆ3ï¼‰ç„¶ååˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨**

```shell
docker run -itd -e DIALER_USER=<ç”¨æˆ·å/æ‰‹æœºå·> -e DIALER_PASSWORD=<å¯†ç > --name dialer-client --network host --restart=always xenlia/esurfingdockerpc:latest
```
<summary>ä½¿ç”¨ç¤ºä¾‹</summary>
**å‡è®¾è´¦å·ä¸º123ï¼Œå¯†ç ä¸º456ã€‚åˆ™åº”è¯¥æ‰§è¡Œ(ä¸€å®šè¦æŠŠï¼œï¼å»æ‰)**

```shell
#å¯¼å…¥é•œåƒ
docker load -i ESurfingDockerPc.tar.gz
#åˆ›å»ºå®¹å™¨å¹¶å¯åŠ¨ï¼ˆä¸Šé¢å¯¼å…¥é•œåƒä»£ç å®Œæˆåã€‚å†è¾“å…¥æ­¤ä»£ç ï¼‰
docker run -itd -e DIALER_USER=123 -e DIALER_PASSWORD=456 --name dialer-client --network host --restart=always xenlia/esurfingdockerpc:latest
```

#### [ç‚¹å‡»æ­¤æŸ¥çœ‹pcè¿è¡Œé”™è¯¯ä»£ç è¯¦è§£](/PC.md)-->

## ä»¥ä¸Šæ“ä½œå®Œæˆå

**sshè¿æ¥åˆ°openwrtä¸»æœºï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ğŸ‘‡**

```shell
docker logs -f dialer-client
```

>[!NOTE]
>å¦‚æœæ—¥å¿—è¾“å‡ºå¦‚ä¸‹ï¼Œå°±ä»£è¡¨ç½‘ç»œå·²ç»æˆåŠŸè®¤è¯
>å°†å®¿èˆå…¶ä»–çš„ç”µè„‘æ’å…¥openwrtä¸»æœºçš„ç‰©ç†LANå£å°±å¯ä»¥æ„‰å¿«åœ°ä¸Šç½‘äº†

```shell
INFO [com.rsplwe.esurfing.Client] (Client:82) - The login has been authorized.
```

>[!WARNING]
>å¦‚æœæ—¥å¿—æç¤º"keep.url"å’Œ"term.url"ä¸ºç©ºï¼Œåˆ™éœ€è¦è¿›è¡Œé‡æ–°è¿æ¥WANå£æˆ–é‡å¯dockerå®¹å™¨ç­‰æ“ä½œ
